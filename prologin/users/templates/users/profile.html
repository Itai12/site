{% extends "prologin/base.html" %}
{% load i18n staticfiles %}
{% load django_bootstrap_breadcrumbs %}

{% block breadcrumbs %}
	{{ block.super }}
	{% breadcrumb "Members" "" %}
	{% breadcrumb shown_user "users:profile" shown_user.id %}
{% endblock breadcrumbs %}

{% block title %}{% blocktrans with shown_user.username as username %}{{ username }}{% endblocktrans %}{% endblock %}

{% block content %}

{% trans "<em>not provided</em>" as noinfo %}
<h1>{% blocktrans with shown_user.username as username %}{{ username }}{% endblocktrans %}</h1>

{% if see_private %}
<p class="text-right"><a href="{% url 'users:edit' shown_user.id %}" class="btn btn-default"><i class="fa fa-pencil"></i> {% trans "Edit" %}</a></p>
{% endif %}

<div class="row">
<div class="col-sm-4">
	{% if shown_user.avatar %}
	<p><img src="{{ shown_user.avatar.url }}" alt="{% blocktrans with shown_user.username as username %}{{username}}'s profile picture{% endblocktrans %}" style="max-width: 100%" /></p>
	{% else %}
	<p><img src="{% static 'img/silhouette.png' %}" alt="{% trans "No profile picture" %}" style="max-width: 100%" /></p>
	{% endif %}
    {# TODO: related links (forum posts, news, contest participationsâ€¦) #}
</div>

<div class="col-sm-8">
<dl class="dl-horizontal">
	<dt>{% trans "First name" %}</dt>
	<dd>{{ shown_user.first_name|default:noinfo }}</dd>

	<dt>{% trans "Last name" %}</dt>
	<dd>{{ shown_user.last_name|default:noinfo }}</dd>

{% if see_private %}
	<dt>{% trans "Phone number" %}</dt>
	<dd>{{ shown_user.phone|default:noinfo }}</dd>

	<dt>{% trans "Email address" %}</dt>
	<dd>{{ shown_user.email|default:noinfo }}</dd>

	<dt>{% trans "Birth day" %}</dt>
	<dd>{% if shown_user.birthday %}{{ shown_user.birthday }} ({{ shown_user.birthday|timesince }}){% else %}{{ noinfo }}{% endif %}</dd>

	<dt>{% trans "Postal address" %}</dt>
	<dd>
		{% if user.has_partial_address %}
		<address>
			{{ shown_user.address }}<br>
			{{ shown_user.postal_code }} {{ shown_user.city }}<br>
			{{ shown_user.country }}
		</address>
		{% else %}
		{{ noinfo }}
		{% endif %}
		</dd>
{% endif %}
</dl>
</div>
</div>

{% endblock %}
